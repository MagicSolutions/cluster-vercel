import{N as o,L as r,H as n}from"./CGfBZQGx.js";const i={categories:"/api/ipin/v1/categories"},l=o("categories",{state:()=>({categories:[],pagination:{total:0,lastPage:1,perPage:12,currentPage:0},filters:{order:{field:"id",way:"desc"}},loading:!1,parentCategories:[]}),getters:{},actions:{setFilters(e){typeof e.search=="string"&&(this.filters.search=e.search??void 0)},async get(e,t=10){try{this.loading=!0;const a=await r.get(i.categories,{page:e,take:t,filter:JSON.stringify(this.filters)}),s=a.meta;this.categories=a.data,this.pagination=s.page}catch(a){throw console.error(a),a}finally{this.loading=!1}},async requestParentsCategories(){try{this.loading=!0;const e=await r.get(i.categories,{include:"children",filter:JSON.stringify({order:{field:"id",way:"asc"},parentId:null})}),t=e.meta;this.parentCategories=e.data}catch(e){throw console.error(e),e}finally{this.loading=!1}},async viewDetails(e){try{this.loading=!0;const t=await r.get(i.categories,{include:"children",filter:JSON.stringify({order:{field:"id",way:"asc"},id:e})});this.selected=t.data[0],n.redirectTo(`/categories/${e}`)}catch(t){throw console.error(t),t}finally{this.loading=!1}}}});export{l as u};
