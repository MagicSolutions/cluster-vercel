import{N as a,U as o,L as i,H as n}from"./CGfBZQGx.js";const t={profileUsers:"/api/profile/v1/users",profileSkills:"/api/profile/v1/skills"},f=a("profiles",{state:()=>({user:null,users:[],pagination:{total:0,lastPage:1,perPage:12,currentPage:0},loading:!1,filters:{}}),getters:{fullUser(e){return e.user?new o(e.user):void 0},userDescription(e){if(!e.user)return"";const s=e.user.fields.find(r=>r.name==="description");return(s==null?void 0:s.value)??""},userSocialMedia(e){return!e.user||!e.user.socialNetworks.id?{}:JSON.parse(e.user.socialNetworks.value)}},actions:{setFilters(e){},async get(e,s=10){try{this.loading=!0;const r=await i.get(t.profileUsers,{page:e,take:s,include:"information.files,skills",filter:JSON.stringify(this.filters)}),l=r.meta;this.users=r.data,this.pagination=l.page}catch(r){throw console.error(r),r}finally{this.loading=!1}},async requestFullUser(e){try{this.loading=!0;const s=await i.get(t.profileUsers+`/${e}`,{include:"information,skills"});let r;this.user?r={...this.user,...s.data}:r=s.data,this.user=r}catch(s){throw console.error(s),s}finally{this.loading=!1}},async viewDetails(e){try{await this.requestFullUser(e),n.redirectTo(`/profiles/${e}`)}catch(s){throw console.error(s),s}finally{this.loading=!1}},removeSelected(){this.user=null}}});export{f as u};
