import{_ as O}from"./BhY88c3m.js";import{_ as W}from"./Cdxp6d-L.js";import{_ as X}from"./BrMMJtrO.js";import{_ as A,a as L,b as G}from"./CqCTHZ6P.js";import{_ as J}from"./BsUTTArZ.js";import{_ as K}from"./BWtyZR3I.js";import{m as Q,r as Y,n as Z,q as C,p as tt,z as et,f as st,o as d,c as u,b as n,s,a as e,w as a,d as w,W as x,X as g,v as ot,F as b,C as $,t as m,H as nt}from"./B10uIJow.js";import{u as it}from"./DM6ue7I2.js";import{_ as lt}from"./D69KGbtd.js";import{u as rt}from"./CCwINZmj.js";import{a as at}from"./CLAjYude.js";import{X as q}from"./DbIrVSFa.js";import{D as F}from"./DMiMsxCs.js";import{C as mt}from"./CQK9bF6W.js";import{_ as ct}from"./DlAUqK2U.js";import"./qq756hlT.js";import"./DbPFUWKD.js";import"./C3lFfd5m.js";import"./HvuuCLXS.js";import"./DidU-aIs.js";import"./ln1jsT5S.js";import"./Cut_bUgy.js";const dt={class:"tw-container tw-flex tw-flex-col md:tw-flex-row tw-mt-5 tw-mb-16 tw-relative"},ut={class:"lg:tw-basis-80 tw-px-5"},wt={class:"filters-form tw-sticky tw-top-28 tw-mb-2 tw-bg-secondary tw-rounded-md !tw-text-white tw-p-6"},pt={class:"tw-flex tw-justify-between"},_t={class:"tw-mb-5 tw-flex tw-items-center"},ft={class:"filter-money tw-mb-2"},xt={class:"filter-money tw-mb-2"},gt={class:"tw-mb-5 tw-flex tw-items-center"},bt={class:"filter-skills tw-mb-2"},ht=["onClick"],vt={class:"tw-ml-2"},kt={class:"md:tw-basis-2/3 lg:tw-basis-9/12"},yt={class:"projects-list"},Pt={class:"tw-font-normal tw-text-base tw-ml-5"},St=["onClick"],Ct={class:"tw-flex tw-justify-center tw-mt-10"},$t=Q({__name:"index",setup(qt){const h=Y(null),c=Z(),r=it(),p=rt(),v=C(()=>r.pagination.currentPage),k=C(()=>r.pagination.lastPage);let y=null;const i=tt({minPrice:"0",maxPrice:"100000000",searchSkills:"",skills:[]});et(()=>{P(),p.get(1,5)}),st(()=>c.query,(l,t)=>{t.search!==l.search&&P()});function P(){r.setFilters({search:c.query.search?`${c.query.search}`:""}),r.get(1)}async function D(){try{if(!await h.value.validate())return;r.setFilters({search:c.query.search?`${c.query.search}`:"",minPrice:parseInt(i.minPrice),maxPrice:parseInt(i.maxPrice),categories:i.skills}),r.get(1)}catch(l){console.log(l)}}function T(l){r.viewDetails(l)}function V(l){i.skills=nt.toggleItem(i.skills,l)}function B(){clearTimeout(y),y=setTimeout(()=>{I(i.searchSkills)},500)}function I(l){p.setFilters({search:l}),p.get(1,5)}return(l,t)=>{const U=O,_=W,z=at,H=X,M=A,N=L,R=G,j=J,E=K;return d(),u(b,null,[n(U,{class:"tw-mt-20"}),n(lt,{loading:s(r).loading},null,8,["loading"]),e("div",dt,[e("aside",ut,[e("div",wt,[n(z,{onSubmit:ot(D,["prevent","stop"]),ref_key:"refForm",ref:h},{default:a(()=>[e("div",pt,[t[6]||(t[6]=e("h2",{class:"tw-text-xl tw-font-bold tw-mb-8"},"Filtros",-1)),n(_,{size:"xs",type:"submit"},{default:a(()=>t[5]||(t[5]=[w("Buscar")])),_:1})]),e("div",_t,[t[7]||(t[7]=e("label",{class:"tw-leading-none tw-text-lg tw-font-bold tw-h-min tw-flex-1"}," Precio ",-1)),n(_,{variant:"ghost",type:"button",class:"hover:tw-bg-transparent hover:tw-underline hover:tw-text-primary tw-text-primary !tw-p-1 tw-leading-none tw-h-min",onClick:t[0]||(t[0]=()=>{s(i).minPrice="0",s(i).maxPrice="100000000"})},{default:a(()=>[n(s(q),{size:20})]),_:1})]),t[10]||(t[10]=e("label",{class:"tw-text-xs tw-font-extralight"},"min",-1)),e("div",ft,[n(s(F),{class:"tw-w-4 tw-mr-3"}),x(e("input",{outlined:"",type:"number","onUpdate:modelValue":t[1]||(t[1]=o=>s(i).minPrice=o)},null,512),[[g,s(i).minPrice]]),t[8]||(t[8]=e("p",{class:"tw-mb-0"},"USD",-1))]),t[11]||(t[11]=e("label",{class:"tw-text-xs tw-font-extralight"},"max",-1)),e("div",xt,[n(s(F),{class:"tw-w-4 tw-mr-3"}),x(e("input",{outlined:"",type:"number","onUpdate:modelValue":t[2]||(t[2]=o=>s(i).maxPrice=o)},null,512),[[g,s(i).maxPrice]]),t[9]||(t[9]=e("p",{class:"tw-mb-0"},"USD",-1))])]),_:1},512),e("div",gt,[t[12]||(t[12]=e("label",{class:"tw-leading-none tw-text-lg tw-font-bold tw-h-min tw-flex-1"}," Skills ",-1)),n(_,{variant:"ghost",type:"button",class:"hover:tw-bg-transparent hover:tw-underline hover:tw-text-primary tw-text-primary !tw-p-1 tw-leading-none tw-h-min",onClick:t[3]||(t[3]=()=>{s(i).skills=[]})},{default:a(()=>[n(s(q),{size:20})]),_:1})]),e("div",bt,[n(s(mt),{class:"tw-w-4 tw-text-primary tw-mr-3"}),x(e("input",{onInput:B,placeholder:"Search skills","onUpdate:modelValue":t[4]||(t[4]=o=>s(i).searchSkills=o)},null,544),[[g,s(i).searchSkills]])]),e("ul",null,[(d(!0),u(b,null,$(s(p).categories,o=>(d(),u("li",{class:"tw-flex tw-items-center tw-mb-2",onClick:f=>V(o.id)},[n(H,{checked:s(i).skills.includes(o.id)},null,8,["checked"]),e("label",vt,m(o.title),1)],8,ht))),256))])])]),e("section",kt,[e("ul",yt,[e("li",null,[n(R,null,{default:a(()=>[n(N,null,{default:a(()=>[n(M,{class:"tw-font-extrabold"},{default:a(()=>[w(" Resultados "+m(s(c).query.search?`que contengan "${s(c).query.search}"`:"")+" ",1),e("span",Pt," PÃ¡gina "+m(s(v))+" de "+m(s(k)),1)]),_:1})]),_:1})]),_:1})]),(d(!0),u(b,null,$(s(r).projects,o=>{var f;return d(),u("li",{key:`project-card=${o.id}`,onClick:S=>T(o.id)},[n(j,{id:o.id,rating:4.5,skills:((f=o.categories)==null?void 0:f.map(S=>S.title))??[],"created-at":`${o.createdAt}`},{title:a(()=>[w(m(o.title),1)]),subtitle:a(()=>[w(" Presupuesto "+m(o.minPrice)+" - "+m(o.maxPrice)+"$ ",1)]),description:a(()=>[w(m(o.description),1)]),_:2},1032,["id","skills","created-at"])],8,St)}),128))]),e("div",Ct,[n(E,{onOnPageSelected:s(r).get,pages:s(k),"btn-per-side":3,current:s(v)},null,8,["onOnPageSelected","pages","current"])])])])],64)}}}),Qt=ct($t,[["__scopeId","data-v-f93824f9"]]);export{Qt as default};
